/**
 * @fileOverview 共通クラスを定義するJSファイルです。
 * @name searchlist.js
 */

/**
 * <h2>処理概要</h2>
 * 引数のFormIdから取得したFormのbatchEntryCorpのcheckedにfalseを設定する.<br>
 * @param {Object} aFormId FormId名。
 */
function clearBatchentryCorp(aFormId) {
	var lForm = document.getElementById(aFormId);
	for ( var i = 0; i < lForm.elements.length; i++) {
		if (lForm.elements[i].name == "batchEntryCorp") {
			lForm.elements[i].checked = false;
		}
	}
}

/**
 * <h2>処理概要</h2>
 * 引数のFormIdから取得したFormのcursorも対象企業のレコード番号を設定する.<br>
 * @param {Object} aDisplayCnt 一画面に表示している件数。
 * @param {Object} aNumerator 表示ページ位置。
 * @param {Object} aVal レコード番号。
 */
function setCur(aDisplayCnt, aNumerator, aVal) {
	var lCnt = (aDisplayCnt * (aNumerator - 1)) + aVal + 0;
	var lForm = document.getElementById("searchCorpListByGenCondForm");
	lForm.cursor.value = 0 + eval(lCnt);
	lForm.searchFlg.value = 1;
}

/**
 * <h2>処理概要</h2>
 * 引数のFormIdから取得したForm.actionModeに引数のアクションモードを設定する.<br>
 * @param {Object} aFormId FormId名。
 * @param {Object} aActionMode アクションモード。
 */
function changeWordMySearch(aFormId, aActionMode) {
	var lForm = document.getElementById(aFormId);
	lForm.actionMode.value = aActionMode;
}

/**
 * 引数のFormIdから取得したFormに遷移先情報を設定しsubmitする.
 * @param {Object} aFormId FormId名。
 * @param {Object} aTarget アクションモード。
 * @param {Object} aActionPath 遷移先URL
 */
function siteSrchWithButton(aFormId, aTarget, aActionPath) {
	var lForm = document.getElementById(aFormId);
	lForm.method = "get";
	lForm.action = aActionPath;
	lForm.elements["actionMode"].value = "setFwType";
	lForm.elements["q"].value = lForm.elements["srchWord"].value;
	if (aTarget == 'siteSrchLink') {
		lForm.elements["q"].value = lForm.elements["srchWord3"].value;
	}
	lForm.submit();
}

/**
 * 引数のFormIdから取得したForm.dispNicknameに引数のIDから取得した値を設定する.<br>
 * @param {Object} aFormId FormId名。
 * @param {Object} aRepTargetId 設定対象エレメントID。
 */
function replaceDispNicname(aFormId, aRepTargetId) {
	var lForm = document.getElementById(aFormId);
	var lRepValue = document.getElementById(aRepTargetId);
	lForm.dispNickname.value = lRepValue.value;
}

/**
 * 引数のFormIdから取得したFormエレメントのクリア処理をする.<br>
 * @param {Object} aFormId FormId名。
 */
function clearElmsForSrchExceptIdList(aFormId) {
	var lForm = document.getElementById(aFormId);
	lForm.displaytop.value = "0";
	lForm.cachedIdList.value = "";
	lForm.cachedIdTop.value = "0";
	lForm.cachedIdLast.value = "0";
	lForm.idListMax.value = "0";
}

/**
 * 引数のFormIdから取得したFormエレメントのクリア処理をする.<br>
 * @param {Object} aFormId FormId名。
 */
function clearElementsCached(aFormId) {
	var lForm = document.getElementById(aFormId);
	lForm.cachedIdList.value = "";
	lForm.cachedIdTop.value = "0";
	lForm.cachedIdLast.value = "0";
}

/**
 * 検索結果一覧の最大件数表示の上下コンボボックスを変更する.<br>
 * 上コンボボックスを変更した場合は下コンボボックスの値を変える.<br>
 * 下コンボボックスを変更した場合は上コンボボックスの値を変える.<br>
 * @param {Object} aDivTag 変更した最大件数コンボボックスのFormId。
 */
function adjustPageCnt(aDivTag) {
	var lUpperDivNode = document.getElementById("upperPagerBox");
	var lLowerDivNode = document.getElementById("lowerPagerBox");
	if (lUpperDivNode !== undefined && lLowerDivNode !== undefined) {
		var lDisplayCntVal = 0;
		var lUpperDisplayCntNode;
		var lLowerDisplayCntNode;
		for ( var i = 0; i < lUpperDivNode.childNodes.length; i++) {
			if (lUpperDivNode.childNodes[i].name == 'displayCnt') {
				lUpperDisplayCntNode = lUpperDivNode.childNodes[i];
				break;
			}
		}
		for ( var i = 0; i < lLowerDivNode.childNodes.length; i++) {
			if (lLowerDivNode.childNodes[i].name == 'displayCnt') {
				lLowerDisplayCntNode = lLowerDivNode.childNodes[i];
				break;
			}
		}
		if (aDivTag == 'upperPagerBox') {
			if (lUpperDisplayCntNode !== undefined) {
				lDisplayCntVal = lUpperDisplayCntNode.value;
			}
		} else {
			if (lLowerDisplayCntNode !== undefined) {
				lDisplayCntVal = lLowerDisplayCntNode.value;
			}
		}
		// 上下のコンボボックスの値を同じにする。
		lUpperDisplayCntNode.value = lDisplayCntVal;
		lLowerDisplayCntNode.value = lDisplayCntVal;
	}
}

/**
 * 引数のFormIdから取得したFormのエレメントにURLパラメータを設定する.<br>
 * @param {Object} aFormId FormId名。
 * @param {Object} aActionName アクション名。
 * @param {Object} aElmName エレメント名。
 * @param {Object} aWindowName ポップアップウィンドウ名。
 */
function generateCheckBoxList(aFormId, aActionName, aElmName, aWindowName) {
	var lForm = document.getElementById(aFormId);
	var lUrl = aActionName;
	var style = MC.window.style.createObject('null', 'null', true, true, true, true, true, true, -1, -1);

	for ( var i = 0; i < lForm.elements.length; i++) {
		if (lForm.elements[i].name == aElmName) {
			if (lForm.elements[i].checked) {
				if (lUrl == aActionName) {
					lUrl += "?";
					lUrl += aElmName;
					lUrl += "=";
					lUrl += lForm.elements[i].value;
				} else {
					lUrl += "&";
					lUrl += aElmName;
					lUrl += "=";
					lUrl += lForm.elements[i].value;
				}
			}
		}
	}
	MC.window.open(lUrl, aWindowName, style);
}

/**
 * 引数のFormIdから取得したFormのエレメントにURLパラメータを設定する.（一般検索用）<br>
 * @param {Object} aFormId FormId名。
 * @param {Object} aActionName アクション名。
 * @param {Object} aElmName エレメント名。
 * @param {Object} aWindowName ポップアップウィンドウ名。
 */
function generateCheckBoxListGenCond(aFormId, aActionName, aElmName, aWindowName) {
	var lForm = document.getElementById(aFormId);
	var lUrl = aActionName;
	var style = MC.window.style.createObject('null', 'null', true, true, true, true, true, true, -1, -1);

	for ( var i = 0; i < lForm.elements.length; i++) {
		if (lForm.elements[i].name == aElmName) {
			if (lForm.elements[i].checked) {
				if (lUrl == aActionName) {
					lUrl += "?";
					lUrl += aElmName;
					lUrl += "=";
					lUrl += lForm.elements[i].value;
				} else {
					lUrl += ",";
					lUrl += lForm.elements[i].value;
				}
			}
		}
	}
	MC.window.open(lUrl, aWindowName, style);
}

/**
 * 引数のFormIdから取得したForm.dispNicknameの値をクリアする.<br>
 * @param {Object} aFormId FormId名。
 */
function clearDsipNickName(aFormId) {
	var lForm = document.getElementById(aFormId);
	if (lForm.dispNickname != null) {
		lForm.dispNickname.value = "";
	}
}

/**
 * 引数のFormIdから取得したForm.actionに引数の遷移先URLを設定しsubmitする.<br>
 * @param aFormId FormId名。
 * @param aActionPath 遷移先URL。
 */
function moveSearchPage(aFormId, aActionPath) {
	var lForm = document.getElementById(aFormId);
	lForm.action = aActionPath;
	lForm.submit();
}
