(function(){YAHOO=window.YAHOO||{};YAHOO.JP=YAHOO.JP||{};YAHOO.JP.rma=YAHOO.JP.rma||{};YAHOO.JP.rma.outstream=(function(){var k=navigator.userAgent,G=10,g=(!document.querySelector&&!document.documentMode),A=/Android/.test(k),B=/iPhone|iPad|iPod/.test(k),w=!isNaN(window.orientation),I=g||A||B||w||false;var J={defaultWidth:640,defaultHeight:360,defaultControllerHeight:30,swfPath:"http://ai.yimg.jp/bdv/yahoo/flash/outstream/prod/flash_inread.swf",swfName:"altfla_outstream_inread",isLoadedMedia:false,isPlayerDisabled:false,isPlayArea:false};var F={high:"high",middle:"middle",low:"low"};function E(R){R=R||{};if(g){if(R.dsid){document.write("<scr");document.write('ipt type="text/javascript" language="JavaScript">yads_ad_ds="'+R.dsid+'";yads_type_tag="'+R.type+'";yads_ad_space="'+R.spaceid+'";</scr');document.write("ipt><scr");document.write('ipt type="text/javascript" language="JavaScript" src="http://ai.yimg.jp/bdv/yahoo/javascript/outstream/prod/yads_for_video.js"></scr');document.write("ipt>")}}else{J.id=R.id||"";J.adElm=document.getElementById(J.id);if(J.adElm){p(R)}else{return}v(function(){o()})}}function p(R){J.adElm.style.height=J.defaultHeight+J.defaultControllerHeight+"px";J.xmltext=escape(escape(R.xml||"")).replace(/Â¥+/g,"%2B")||"";J.imgsrc=R.image||"";J.linkurl=R.image_link||"";J.target=((R.target!=="%target%")&&escape(R.target))||escape('target="_blank"');J.delayTime=+R.delayTime||1500;J.stepUpTime=+R.stepUpTime||0;J.width=Math.min(+J.adElm.offsetWidth,J.defaultWidth);J.adHeight=Math.ceil(J.width/16*9);J.height=Math.ceil(J.adHeight+(J.defaultControllerHeight*(J.width/J.defaultWidth)));J.dsid=R.dsid||"";J.typeTag=R.type||"";J.spaceid=R.spaceid||""}function o(){if(l()){t()}else{if(I){b("video_unsupported")}else{if(n()){Q()}else{b("video_noPlugin")}}}}function l(){if(window.YPAheight){return true}else{if(c("yjads_priority_3").length){return true}else{if(window.YFAheight){var ab=J.adElm.getBoundingClientRect(),R=ab.top,Z=document.body.getBoundingClientRect(),aa=Z.top,S=R-aa;var U=250,X=document.documentElement.clientHeight;if(S<U+window.YFAheight+X){return true}}}}var Y=document.body.getElementsByTagName("img");for(var W=0,T=Y.length;W<T;W++){var V=Y[W];if(/^http(:\/\/ai|s:\/\/s)\.yimg\.jp\/bdv\//.test(V.src)&&((V.width===300&&/^(250|600)$/.test(V.height))||(V.width===950&&V.height===240))){if(m(V)){return true}}}return false}function c(S,W){var R=[];W=W||document.body;if(typeof W.getElementsByClassName==="function"){R=[].slice.call(W.getElementsByClassName(S))}else{var V=W.getElementsByTagName("*");for(var U=0,T=V.length;U<T;U++){if(V[U].className.indexOf(S)!==-1){R.push(V[U])}}}return R}function m(Y){var V=document.documentElement.clientHeight,X=Y.getBoundingClientRect(),ab=X.top,W=ab+(X.height||Y.height),ac=J.adElm.getBoundingClientRect(),T=ac.top,aa=T+J.height,S=T-V,Z=aa+V,R=(W<S),U=(ab>Z);if(!(R||U)){return true}}function n(){try{return +navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin.description.split(" ")[2].split(".")[0]>=G}catch(R){try{if(!!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/([0-9]+)/))){return true}else{return false}}catch(R){return false}}}function Q(){J.adElm.innerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="'+J.swfName+'" width="'+J.width+'" height="'+J.height+'"><param name="movie" value="'+J.swfPath+'"><param name="loop" value=true><param name="quality" value="high"><param name="wmode" value="transparent"><param name="allowScriptAccess" value=always><embed name="'+J.swfName+'" src="'+J.swfPath+'" loop="true" quality="high" swLiveConnect="false" allowScriptAccess="always" width="'+J.width+'" height="'+J.height+'" type="application/x-shockwave-flash" wmode="transparent"></embed></object>';J.adElm.style.visibility="visible";J.adElm.style.textAlign="center";J.adElm.style.height="auto";J.isPlayerDisabled=true;if(!J.isLoadedMedia&&C()){D()}}function b(S){J.adElm.style.width=J.width+"px";J.adElm.style.height=J.adHeight+"px";if(J.imgsrc){var R=new Image();R.onload=function(){J.adElm.innerHTML='<div style="width:'+J.width+'px;margin:auto;"><a href="'+J.linkurl+'" '+unescape(J.target)+'><img src="'+J.imgsrc+'" border="0" style="width:100%" alt=""></a></div>';S&&u.send(S)};R.onerror=function(){t()};R.src=J.imgsrc}else{t()}}function t(){J.adElm.style.cssText="";J.adElm.innerHTML="";J.adElm.style.height=J.defaultHeight+"px";if(J.dsid){var R=document.createElement("iframe");R.id="backfill_iframe";R.scrolling="no";R.frameBorder=0;R.style.width="100%";R.style.height=J.defaultHeight+"px";J.adElm.appendChild(R);var S=R.contentDocument||R.contentWindow.document;S.open();S.write(['<meta charset="utf-8">',"<style>body{margin:0;padding:0;}</style>",'<script type="text/javascript" language="JavaScript">','yads_ad_ds="'+J.dsid+'";','yads_type_tag="'+J.typeTag+'";','yads_ad_space="'+J.spaceid+'";',"yads_noad_hook_for_video=function(){","window.parent.YAHOO.JP.rma.outstream.removeAdElm();","};","<\/script>",'<script type="text/javascript" language="JavaScript" src="http://ai.yimg.jp/bdv/yahoo/javascript/outstream/prod/yads_for_video.js"><\/script>','<script type="text/javascript" language="JavaScript">',"var ad, adRect, height, parentFrame, adElm;","var t = setInterval(function() {",'ad = document.getElementsByTagName("div")[0];',"adRect = ad ? ad.getBoundingClientRect() : {};","height = adRect.height || (ad && ad.offsetHeight);",'parentFrame = window.parent.document.getElementById("'+R.id+'");','adElm = window.parent.document.getElementById("'+J.id+'");',"if (height && parentFrame && adElm) {",'parentFrame.style.height = height+"px";','adElm.style.height = height+"px";',"}","}, 33);","setTimeout(function(){clearInterval(t);},10000);","<\/script>"].join(""));if(!/MSIE/.test(k)){S.close()}}else{f()}}function f(){J.adElm.parentNode.removeChild(J.adElm);J.adElm=null}function K(R,T,S){T=T||document.body;if(window.addEventListener){T.addEventListener(R,S)}else{T.attachEvent("on"+R,S)}}function i(){K("scroll",window,function(){if(!J.isLoadedMedia&&C()){D()}J.isPlayArea=j();if(J.isPlayArea){N()}else{H()}});if(window.addEventListener){window.addEventListener("focus",function(){N()});window.addEventListener("blur",function(){H()})}else{document.attachEvent("onfocusin",function(){N()});document.attachEvent("onfocusout",function(){H()})}}function C(){if(!J.adElm){return false}var R=J.adElm.getBoundingClientRect().top,T=R-document.documentElement.clientHeight,S=R+J.height;return T<=0&&S>0}function j(){if(!J.adElm){return false}var R=J.adElm.getBoundingClientRect().top,T=R-document.documentElement.clientHeight,S=R+J.adHeight;if(J.isPlayArea){return T+J.adHeight*0.25<=0&&S-J.adHeight*0.25>=0}else{return T+J.adHeight*0.5<=0&&S-J.adHeight*0.5>=0}}var v=(function(){var S=false,R=document,U=window,V=40,T=function(X){try{R.documentElement.doScroll("left")}catch(W){if(V<1000){V=V+10}setTimeout(T,V);return}X()};return function(X){if(R.addEventListener){R.addEventListener("DOMContentLoaded",function(){S=true;X()},false);U.addEventListener("load",function(){if(!S){X()}},false)}else{if(U.attachEvent){if(U.ActiveXObject&&U===U.top){T(X)}else{U.attachEvent("onload",X)}}else{var W=U.onload;U.onload=function(){if(typeof W==="function"){W()}X()}}}}})();var u=(function(){function S(ad){var X=J.linkurl;var ac=(J.linkurl.indexOf("ace%")==-1&&window.location.href.indexOf("http")!=-1)?true:false;function ai(){return}var V=X;var U="";var aj="";var aa="";var ab="";var T="http://rdsig.yahoo.co.jp";var af="mediaframe";var W="http://ai.yimg.jp/images/clear.gif";var ak={mouseover:1,mouseout:1,close:1};if(ac){var ae=unescape(V);U=ae.substr(ae.indexOf("/M=",0)+3,9);aj=ae.substr(ae.indexOf("/D=",0)+3,ae.indexOf("/S=",0)-ae.indexOf("/D=",0)-3);ab=ae.substr(ae.indexOf("/A=",0)+3,9);if(ae.match(/\/S=(\d+?):/)){aa=RegExp.$1}}if(ac){var ag=new Image();var Z="/";var Y=R.encode(W+"?r="+Math.random());var ah=T+Z+af+Z+U+Z+ab+Z+ad+Z+aj+Z+aa+"/RV=1/RU="+Y;ag.onload=function(){ai()};ag.src=ah}}var R=(function(){var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._";var V=function(Y){var W=[];if(typeof Y!=="string"){return W}for(var Z=0;Z<Y.length;Z++){var X=Y.charCodeAt(Z);if((55296<=X&&X<=56319)||(56320<=X&&X<=57343)){return[]}if(X<=127){W.push(X)}else{if(X<=2047){W.push(((X>>6)&31)|192);W.push((X&63)|128)}else{if(X<=65535){W.push(((X>>12)&15)|224);W.push(((X>>6)&63)|128);W.push((X&63)|128)}else{return[]}}}}return W};var U=function(X){if(typeof X!=="string"){return X}var ac=V(X);if(ac.length==0){return X}var ad=ac.length;var W="";var ab,aa,Z;var Y=0;while(Y<ad){ab=ac[Y++];if(Y==ad){W+=T.charAt(ab>>2);W+=T.charAt(((ab<<4)&48)|0);W+="--";break}aa=ac[Y++];if(Y==ad){W+=T.charAt(ab>>2);W+=T.charAt(((ab<<4)&48)|(aa>>4));W+=T.charAt(((aa<<2)&60)|0);W+="-";break}Z=ac[Y++];W+=T.charAt(ab>>2);W+=T.charAt(((ab<<4)&48)|(aa>>4));W+=T.charAt(((aa<<2)&60)|(Z>>6));W+=T.charAt(Z&63)}return W};return{encode:U}}());return{send:S}})();function y(R){if(!J.swfObj){J.swfObj=document[R]||window[R]}return J.swfObj}function D(){try{y(J.swfName).onLoadMedia()}catch(R){}}function h(){try{y(J.swfName).playerSoundOn()}catch(R){}}function z(){try{y(J.swfName).playerSoundOff()}catch(R){}}function N(){try{J.isPlayArea&&y(J.swfName).playerRestart()}catch(R){}}function H(){try{y(J.swfName).playerPaused()}catch(R){}}function O(){D()}function e(){J.isLoadedMedia=true;i();N()}function P(){b("video_loadError")}function M(){J.adElm.style.width=J.width+"px";J.adElm.style.height=J.height+"px";J.adElm.style.margin="auto";J.adElm.style.backgroundColor="#000"}function L(S){t();var R=new Image();R.onload=function(){J.adElm.appendChild(R)};R.src=S}function r(){return J.xmltext}function x(){return J.target}function q(){return J.delayTime}function a(){return J.stepUpTime}function d(){return F.high}function s(R){window.open(R[0],R[1])}return{load:E,getVastXmlText:r,getWindowTarget:x,getDelayTime:q,getStepUpTime:a,playerSoundOn:h,playerSoundOff:z,playerRestart:N,playerPaused:H,displayAd:M,displayNoad:L,onPlayerInitComp:O,onMediaLoadComp:e,onMediaLoadError:P,getRate:d,onWindowOpen:s,removeAdElm:f}})()})();